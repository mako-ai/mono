---
alwaysApply: true
---

# RevOps Monorepo Guide

- API service (Node + TypeScript): entry at [api/src/index.ts](mdc:api/src/index.ts). Built output lives in [api/dist/index.js](mdc:api/dist/index.js). Default port: 8080 (env `WEB_API_PORT`).
- Web app (Vite + React): entry at [app/src/main.tsx](mdc:app/src/main.tsx). Built output lives under [app/dist/](mdc:app/dist/index.html). Dev server: 5173 with `/api` proxied to `http://localhost:8080`.
- Shared compiled libraries (Node): generated in root [dist/](mdc:dist/sync.js). Examples: [dist/sync.js](mdc:dist/sync.js), [dist/query-runner.js](mdc:dist/query-runner.js).

Important docs:

- Authentication overview: [AUTH_README.md](mdc:AUTH_README.md)
- Sync architecture: [docs/Chunked-Sync-Architecture.md](mdc:docs/Chunked-Sync-Architecture.md)
- Inngest dev config: [INNGEST_DEV_CONFIG.md](mdc:INNGEST_DEV_CONFIG.md)
- Deployment and env: [deploy.sh](mdc:deploy.sh), [env.yaml](mdc:env.yaml), [cloud-run-env.yaml](mdc:cloud-run-env.yaml)

Conventions:

- Do not edit any files under `dist/**`. Make edits in `api/src/**` and `app/src/**`, then rebuild.
- API routes and services live under `api/src/routes/**` and `api/src/services/**`. Connectors under `api/src/connectors/**`.
- Long-running and scheduled tasks use Inngest code under `api/src/inngest/**`.
- MongoDB schemas live under `api/src/database/**`; connections are provided by `api/src/services/database-connection.service.ts`.

Dev tips:

- Sync CLI: `api/src/sync/cli.ts` (run via `pnpm run sync`).
- Query Runner: `api/src/sync/query-runner.ts`.
- Environment: set `WEB_API_PORT=8080`, `BASE_URL=http://localhost:8080`, `CLIENT_URL=http://localhost:5173` for local dev.
