# Data Source Configuration
# Each data source represents a connection to external services or databases

data_sources:
  # Close.com Sources
  ch_close:
    name: "Switzerland Close CRM"
    description: "Close.com data for Swiss market operations"
    active: true
    type: "close"
    connection:
      api_key: "${CLOSE_API_KEY_SWITZERLAND}"
      api_base_url: "https://api.close.com/api/v1"
    settings:
      sync_batch_size: 100
      rate_limit_delay_ms: 200

  it_close:
    name: "Italy Close CRM"
    description: "Close.com data for Italian market operations"
    active: true
    type: "close"
    connection:
      api_key: "${CLOSE_API_KEY_ITALY}"
      api_base_url: "https://api.close.com/api/v1"
    settings:
      sync_batch_size: 100
      rate_limit_delay_ms: 200

  fr_close:
    name: "France Close CRM"
    description: "Close.com data for French market operations"
    active: true
    type: "close"
    connection:
      api_key: "${CLOSE_API_KEY_FRANCE}"
      api_base_url: "https://api.close.com/api/v1"
    settings:
      sync_batch_size: 100
      rate_limit_delay_ms: 200

  es_close:
    name: "Spain Close CRM"
    description: "Close.com data for Spanish market operations"
    active: true
    type: "close"
    connection:
      api_key: "${CLOSE_API_KEY_SPAIN}"
      api_base_url: "https://api.close.com/api/v1"
    settings:
      sync_batch_size: 100
      rate_limit_delay_ms: 250

  # Stripe Sources
  es_stripe:
    name: "Spain Stripe Payments"
    description: "Stripe payment data for Spanish operations"
    active: true
    type: "stripe"
    connection:
      api_key: "${STRIPE_API_KEY_SPAIN}"
    settings:
      sync_batch_size: 50
      rate_limit_delay_ms: 300

# MongoDB Servers Configuration
# Group databases by their server instances
mongodb_servers:
  atlas:
    name: "MongoDB Atlas"
    description: "MongoDB Atlas cluster"
    connection_string: "mongodb+srv://joan:${MONGO_ATLAS_PASSWORD}@revops.fmeraxd.mongodb.net/?retryWrites=true&w=majority&appName=RevOps"
    active: true
    databases:
      revops:
        name: "Main Analytics Database"
        description: "Main analytics database"
        database: "revops"
        active: true
        settings:
          max_pool_size: 10
          min_pool_size: 2

  local_dev:
    name: "Local Development Server"
    description: "Local MongoDB instance for development"
    connection_string: "mongodb://localhost:27018"
    active: true
    databases:
      analytics_db:
        name: "Main Analytics Database"
        description: "Primary MongoDB for analytics data"
        database: "multi_tenant_analytics"
        active: true
        settings:
          max_pool_size: 10
          min_pool_size: 2

      datawarehouse:
        name: "Data Warehouse Database"
        description: "Primary MongoDB for data warehouse data"
        database: "datawarehouse"
        active: true
        settings:
          max_pool_size: 10
          min_pool_size: 2

  # Example of a production server (commented out)
  # production:
  #   name: "Production Cluster"
  #   description: "Production MongoDB Atlas cluster"
  #   connection_string: "mongodb+srv://user:pass@cluster.mongodb.net"
  #   active: true
  #   databases:
  #     analytics_prod:
  #       name: "Production Analytics"
  #       description: "Production analytics database"
  #       database: "analytics"
  #       active: true
  #       settings:
  #         max_pool_size: 20
  #         min_pool_size: 5

# Global settings that apply to all data sources (can be overridden per source)
global:
  max_retries: 5
  default_timezone: "UTC"
  logging:
    level: "info"
    include_api_responses: false
